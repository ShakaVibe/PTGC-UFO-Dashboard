<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PTGC UFO Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #0a0a0a;
      min-height: 100vh;
    }
    .font-orbitron { font-family: 'Orbitron', monospace; }
    
    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: #1a1a1a; }
    ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: #444; }
    
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 20px rgba(124, 252, 0, 0.3); }
      50% { box-shadow: 0 0 40px rgba(124, 252, 0, 0.6); }
    }
    @keyframes pulse-glow-gold {
      0%, 100% { box-shadow: 0 0 20px rgba(217, 202, 93, 0.3); }
      50% { box-shadow: 0 0 40px rgba(217, 202, 93, 0.6); }
    }
    .animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }
    .animate-pulse-glow-gold { animation: pulse-glow-gold 2s ease-in-out infinite; }
    
    @keyframes fire-flicker {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
    .animate-fire { animation: fire-flicker 0.5s ease-in-out infinite; }
    
    .token-card {
      transition: all 0.3s ease;
    }
    .token-card:hover {
      transform: scale(1.03);
    }
    .token-card-gold:hover {
      box-shadow: 0 0 50px rgba(217, 202, 93, 0.5);
      border-color: rgba(217, 202, 93, 1) !important;
    }
    .token-card-green:hover {
      box-shadow: 0 0 50px rgba(124, 252, 0, 0.5);
      border-color: rgba(124, 252, 0, 1) !important;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState, useEffect, useCallback, useMemo } = React;
    
    // Use relative paths for logos (files must be in same folder as index.html)
    const TOKENS = {
      PTGC: {
        name: 'PTGC',
        address: '0x94534EeEe131840b1c0F61847c572228bdfDDE93',
        logo: '06_PTGC_V1_transparent_bg.png',
        color: 'gold',
        burnAddress: '0x0000000000000000000000000000000000000369',
        decimals: 18,
        dexScreenerSlug: 'pulsechain/0x94534eeee131840b1c0f61847c572228bdfdde93'
      },
      UFO: {
        name: 'UFO',
        address: '0x456548A9B56eFBbD89Ca0309edd17a9E20b04018',
        logo: '07_Ufo_transparent.png',
        color: 'green',
        burnAddress: '0x0000000000000000000000000000000000000369',
        decimals: 18,
        dexScreenerSlug: 'pulsechain/0x456548a9b56efbbd89ca0309edd17a9e20b04018'
      }
    };
    
    const COMBINED_LOGO = '07_Combined_PTGC_UFO_Transparent.png';
    
    const SEA_CREATURES = [
      { name: 'Plankton', emoji: 'ü¶†', min: 0, max: 100 },
      { name: 'Shrimp', emoji: 'ü¶ê', min: 100, max: 1000 },
      { name: 'Crab', emoji: 'ü¶Ä', min: 1000, max: 5000 },
      { name: 'Fish', emoji: 'üêü', min: 5000, max: 10000 },
      { name: 'Octopus', emoji: 'üêô', min: 10000, max: 25000 },
      { name: 'Dolphin', emoji: 'üê¨', min: 25000, max: 50000 },
      { name: 'Shark', emoji: 'ü¶à', min: 50000, max: 100000 },
      { name: 'Whale', emoji: 'üêã', min: 100000, max: 500000 },
      { name: 'Kraken', emoji: 'ü¶ë', min: 500000, max: Infinity }
    ];
    
    const BURN_CREATURES = [
      { name: 'Plankton', emoji: 'ü¶†', min: 0, max: 1000000 },
      { name: 'Shrimp', emoji: 'ü¶ê', min: 1000000, max: 10000000 },
      { name: 'Crab', emoji: 'ü¶Ä', min: 10000000, max: 50000000 },
      { name: 'Turtle', emoji: 'üê¢', min: 50000000, max: 100000000 },
      { name: 'Octopus', emoji: 'üêô', min: 100000000, max: 500000000 },
      { name: 'Dolphin', emoji: 'üê¨', min: 500000000, max: 1000000000 },
      { name: 'Shark', emoji: 'ü¶à', min: 1000000000, max: 5000000000 },
      { name: 'Whale', emoji: 'üêã', min: 5000000000, max: 25000000000 },
      { name: 'Kraken', emoji: 'ü¶ë', min: 25000000000, max: Infinity }
    ];
    
    // Utility Functions
    const fmt = (n) => {
      if (n === null || n === undefined || isNaN(n)) return '‚Äî';
      return Number(n).toLocaleString('en-US', { maximumFractionDigits: 0 });
    };
    
    const fmtUSD = (n) => {
      if (n === null || n === undefined || isNaN(n)) return '‚Äî';
      if (n >= 1e9) return '$' + (n / 1e9).toFixed(2) + 'B';
      if (n >= 1e6) return '$' + (n / 1e6).toFixed(2) + 'M';
      if (n >= 1e3) return '$' + (n / 1e3).toFixed(1) + 'K';
      return '$' + n.toFixed(2);
    };
    
    const fmtPrice = (p) => {
      if (!p || isNaN(p)) return '‚Äî';
      if (p < 0.0001) {
        const str = p.toFixed(20);
        const match = str.match(/0\.(0+)(\d{4})/);
        if (match) return { base: '$0.0', sub: match[1].length, rest: match[2] };
      }
      return '$' + p.toFixed(p < 1 ? 6 : 2);
    };
    
    const getCreatureForValue = (value, creatures) => {
      for (let i = creatures.length - 1; i >= 0; i--) {
        if (value >= creatures[i].min) return creatures[i];
      }
      return creatures[0];
    };
    
    const getCreatureCounts = (totalBurn, creatures) => {
      const counts = [];
      let remaining = totalBurn;
      for (let i = creatures.length - 1; i >= 0; i--) {
        const creature = creatures[i];
        if (remaining >= creature.min && creature.max !== Infinity) {
          const count = Math.floor(remaining / creature.max);
          if (count > 0) {
            counts.push({ ...creature, count });
            remaining -= count * creature.max;
          }
        }
      }
      if (remaining > 0) {
        const finalCreature = getCreatureForValue(remaining, creatures);
        const existing = counts.find(c => c.name === finalCreature.name);
        if (existing) existing.count += 1;
        else counts.push({ ...finalCreature, count: 1 });
      }
      return counts;
    };
    
    // API Functions
    const fetchDexScreenerData = async (tokenAddress) => {
      try {
        const res = await fetch(`https://api.dexscreener.com/latest/dex/tokens/${tokenAddress}`);
        const data = await res.json();
        if (data.pairs && data.pairs.length > 0) {
          const sortedPairs = data.pairs.sort((a, b) => (b.liquidity?.usd || 0) - (a.liquidity?.usd || 0));
          const mainPair = sortedPairs[0];
          const totalVolume = sortedPairs.reduce((sum, p) => sum + (p.volume?.h24 || 0), 0);
          const totalLiquidity = sortedPairs.reduce((sum, p) => sum + (p.liquidity?.usd || 0), 0);
          return {
            price: parseFloat(mainPair.priceUsd) || 0,
            priceChange24h: mainPair.priceChange?.h24 || 0,
            mcap: mainPair.marketCap || mainPair.fdv || 0,
            liquidity: totalLiquidity,
            volume24h: totalVolume,
            pairs: sortedPairs
          };
        }
        return null;
      } catch (err) {
        console.error('DexScreener error:', err);
        return null;
      }
    };
    
    const fetchHolderCount = async (tokenAddress) => {
      try {
        const res = await fetch(`https://api.scan.pulsechain.com/api/v2/tokens/${tokenAddress}/counters`);
        const data = await res.json();
        return parseInt(data.token_holders_count) || 0;
      } catch (err) {
        console.error('Holder count error:', err);
        return 0;
      }
    };
    
    const fetchBurnData = async (tokenAddress, burnAddress, decimals) => {
      try {
        const balanceRes = await fetch('https://rpc.pulsechain.com', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            jsonrpc: '2.0',
            method: 'eth_call',
            params: [{ to: tokenAddress, data: '0x70a08231000000000000000000000000' + burnAddress.slice(2).padStart(64, '0') }, 'latest'],
            id: 1
          })
        });
        const balanceData = await balanceRes.json();
        const burnedRaw = BigInt(balanceData.result || '0x0');
        const burned = Number(burnedRaw) / Math.pow(10, decimals);
        
        const supplyRes = await fetch('https://rpc.pulsechain.com', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            jsonrpc: '2.0',
            method: 'eth_call',
            params: [{ to: tokenAddress, data: '0x18160ddd' }, 'latest'],
            id: 2
          })
        });
        const supplyData = await supplyRes.json();
        const totalSupplyRaw = BigInt(supplyData.result || '0x0');
        const totalSupply = Number(totalSupplyRaw) / Math.pow(10, decimals);
        
        return { total: burned, percent: totalSupply > 0 ? (burned / totalSupply) * 100 : 0, totalSupply };
      } catch (err) {
        console.error('Burn data error:', err);
        return { total: 0, percent: 0, totalSupply: 0 };
      }
    };
    
    // Components
    const ChangeBadge = ({ value, size = 'text-base' }) => {
      if (value === null || value === undefined) return null;
      const isPositive = value >= 0;
      const bgColor = isPositive ? 'bg-green-500/20' : 'bg-red-500/20';
      const textColor = isPositive ? 'text-green-400' : 'text-red-400';
      return (
        <span className={`px-3 py-1.5 rounded-lg ${size} font-bold ${bgColor} ${textColor}`}>
          {isPositive ? '‚ñ≤' : '‚ñº'} {Math.abs(value).toFixed(2)}%
        </span>
      );
    };
    
    const SeaCreatureDisplay = ({ creatures, size = 'text-3xl' }) => (
      <div className="flex items-center gap-2 flex-wrap">
        <span className={`${size} animate-fire`}>üî•</span>
        {creatures.map((c, i) => (
          <span key={i} className="flex items-center gap-0.5">
            <span className={size}>{c.emoji}</span>
            {c.count > 1 && <span className="text-white/80 text-sm font-bold">x{c.count}</span>}
          </span>
        ))}
      </div>
    );
    
    // HOME PAGE
    const HomePage = ({ onSelectToken }) => {
      const [tokenData, setTokenData] = useState({ PTGC: null, UFO: null });
      const [loading, setLoading] = useState(true);
      
      useEffect(() => {
        const fetchData = async () => {
          const [ptgcData, ufoData] = await Promise.all([
            fetchDexScreenerData(TOKENS.PTGC.address),
            fetchDexScreenerData(TOKENS.UFO.address)
          ]);
          setTokenData({ PTGC: ptgcData, UFO: ufoData });
          setLoading(false);
        };
        fetchData();
        const interval = setInterval(fetchData, 30000);
        return () => clearInterval(interval);
      }, []);
      
      const MiniSparkline = ({ isPositive, color }) => {
        const points = isPositive 
          ? "0,20 10,18 20,15 30,17 40,12 50,14 60,8 70,10 80,5 90,7 100,3"
          : "0,5 10,8 20,6 30,10 40,12 50,9 60,15 70,13 80,18 90,16 100,20";
        return (
          <svg viewBox="0 0 100 24" className="w-24 h-10">
            <polyline points={points} fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
          </svg>
        );
      };
      
      const TokenCard = ({ token, data }) => {
        const config = TOKENS[token];
        const isGold = config.color === 'gold';
        const borderColor = isGold ? 'border-[#D9CA5D]/50' : 'border-[#7CFC00]/50';
        const textColor = isGold ? 'text-[#D9CA5D]' : 'text-[#7CFC00]';
        const bgGradient = isGold 
          ? 'bg-gradient-to-r from-[#D9CA5D]/20 via-[#1a1a1a] to-[#1a1a1a]' 
          : 'bg-gradient-to-r from-[#7CFC00]/20 via-[#1a1a1a] to-[#1a1a1a]';
        const cardClass = isGold ? 'token-card-gold' : 'token-card-green';
        const isPositive = (data?.priceChange24h || 0) >= 0;
        const changeColor = isPositive ? '#22c55e' : '#ef4444';
        const priceFormatted = fmtPrice(data?.price);
        
        return (
          <div 
            onClick={() => onSelectToken(token)}
            className={`token-card ${cardClass} cursor-pointer rounded-2xl border-2 ${borderColor} ${bgGradient} p-8`}
          >
            <div className="flex items-center gap-8">
              <div className="flex-shrink-0">
                <img src={config.logo} alt={token} className="w-32 h-32 object-contain" />
              </div>
              <div className="flex-shrink-0 min-w-[160px]">
                <div className={`font-orbitron text-4xl font-bold ${textColor}`}>{token}</div>
                <div className="text-white/40 text-sm font-mono mt-1">
                  {config.address.slice(0, 6)}...{config.address.slice(-4)} ‚ßâ
                </div>
              </div>
              <div className="flex-1 text-right">
                <div className="text-white font-bold text-3xl">
                  {typeof priceFormatted === 'object' ? (
                    <>{priceFormatted.base}<sub className="text-lg opacity-70">{priceFormatted.sub}</sub>{priceFormatted.rest}</>
                  ) : priceFormatted}
                </div>
                <div className="text-white/50 text-xl mt-1">MCap: {fmtUSD(data?.mcap)}</div>
              </div>
              <div className="flex-shrink-0 flex items-center gap-4">
                <MiniSparkline isPositive={isPositive} color={changeColor} />
                <ChangeBadge value={data?.priceChange24h} size="text-xl" />
              </div>
            </div>
          </div>
        );
      };
      
      return (
        <div className="min-h-screen flex flex-col">
          <header className="text-center pt-6">
            <div className="flex justify-center">
              <img src={COMBINED_LOGO} alt="PTGC & UFO" className="h-96 w-auto object-contain" />
            </div>
            <h1 
              className="font-orbitron text-5xl font-bold tracking-wider mb-2 -mt-4"
              style={{
                background: 'linear-gradient(180deg, #FFFFFF 0%, #C0C0C0 40%, #808080 70%, #404040 100%)',
                WebkitBackgroundClip: 'text',
                WebkitTextFillColor: 'transparent',
                filter: 'drop-shadow(0 4px 8px rgba(0,0,0,0.5))'
              }}
            >
              DASHBOARD
            </h1>
            <p className="text-white/50 text-lg">A community tool built for The Grays Ecosystem</p>
          </header>
          
          <div className="flex-1 flex items-start justify-center px-8 pt-8 pb-8">
            <div className="flex flex-col gap-6 max-w-4xl w-full">
              {loading ? (
                <>
                  <div className="animate-pulse bg-white/10 rounded-2xl h-40"></div>
                  <div className="animate-pulse bg-white/10 rounded-2xl h-40"></div>
                </>
              ) : (
                <>
                  <TokenCard token="PTGC" data={tokenData.PTGC} />
                  <TokenCard token="UFO" data={tokenData.UFO} />
                </>
              )}
            </div>
          </div>
          
          <footer className="text-center py-6 px-4 border-t border-white/10">
            <p className="text-white/30 text-xs max-w-2xl mx-auto">
              This dashboard is for informational purposes only and does not constitute financial advice. 
              Data may be delayed or inaccurate. Always do your own research (DYOR) before making any investment decisions. 
              The creators are not responsible for any losses.
            </p>
            <p className="text-white/20 text-xs mt-2">Built for the PulseChain community</p>
          </footer>
        </div>
      );
    };
    
    // DASHBOARD
    const Dashboard = ({ token, onBack }) => {
      const config = TOKENS[token];
      const isGold = config.color === 'gold';
      const textColor = isGold ? 'text-[#D9CA5D]' : 'text-[#7CFC00]';
      const borderColor = isGold ? 'border-[#D9CA5D]' : 'border-[#7CFC00]';
      const bgColor = isGold ? 'bg-[#D9CA5D]/10' : 'bg-[#7CFC00]/10';
      
      const [data, setData] = useState(null);
      const [burnData, setBurnData] = useState({ total: 0, percent: 0, totalSupply: 0 });
      const [holders, setHolders] = useState(0);
      const [loading, setLoading] = useState(true);
      const [sortBy, setSortBy] = useState('liquidity');
      const [sortDir, setSortDir] = useState('desc');
      
      useEffect(() => {
        const fetchAllData = async () => {
          console.log('Fetching dashboard data for:', token);
          const dexData = await fetchDexScreenerData(config.address);
          const holdersCount = await fetchHolderCount(config.address);
          const burn = await fetchBurnData(config.address, config.burnAddress, config.decimals);
          console.log('Dashboard data:', { dexData, holdersCount, burn });
          setData(dexData);
          setHolders(holdersCount);
          setBurnData(burn);
          setLoading(false);
        };
        fetchAllData();
        const interval = setInterval(fetchAllData, 60000);
        return () => clearInterval(interval);
      }, [token, config]);
      
      const sortedPairs = useMemo(() => {
        if (!data?.pairs) return [];
        return [...data.pairs].sort((a, b) => {
          let aVal, bVal;
          switch (sortBy) {
            case 'ratio': aVal = a.liquidity?.usd && a.marketCap ? (a.liquidity.usd / a.marketCap) : 0; bVal = b.liquidity?.usd && b.marketCap ? (b.liquidity.usd / b.marketCap) : 0; break;
            case 'volume': aVal = a.volume?.h24 || 0; bVal = b.volume?.h24 || 0; break;
            case 'change': aVal = a.priceChange?.h24 || 0; bVal = b.priceChange?.h24 || 0; break;
            default: aVal = a.liquidity?.usd || 0; bVal = b.liquidity?.usd || 0;
          }
          return sortDir === 'desc' ? bVal - aVal : aVal - bVal;
        });
      }, [data?.pairs, sortBy, sortDir]);
      
      const handleSort = (column) => {
        if (sortBy === column) setSortDir(sortDir === 'desc' ? 'asc' : 'desc');
        else { setSortBy(column); setSortDir('desc'); }
      };
      
      const SortButton = ({ column, label }) => (
        <button onClick={() => handleSort(column)} className={`px-3 py-1 rounded text-sm font-medium transition-all ${sortBy === column ? `${bgColor} ${textColor} border ${borderColor}` : 'bg-white/5 text-white/60 hover:bg-white/10'}`}>
          {label} {sortBy === column && (sortDir === 'desc' ? '‚Üì' : '‚Üë')}
        </button>
      );
      
      const burnCreatures = burnData ? getCreatureCounts(burnData.total, BURN_CREATURES) : [];
      
      if (loading) {
        return (
          <div className="min-h-screen flex items-center justify-center">
            <div className="text-center">
              <div className={`w-20 h-20 mx-auto mb-4 rounded-full border-4 ${borderColor} border-t-transparent animate-spin`}></div>
              <div className={`font-orbitron text-xl ${textColor}`}>Loading {token} Dashboard...</div>
            </div>
          </div>
        );
      }
      
      return (
        <div className="min-h-screen pb-8">
          <header className={`sticky top-0 z-40 bg-black/95 backdrop-blur border-b ${borderColor}/30`}>
            <div className="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
              <div className="flex items-center gap-4">
                <button onClick={onBack} className="text-white/60 hover:text-white transition-colors text-lg">‚Üê Back</button>
                <div className="flex items-center gap-3">
                  <img src={config.logo} alt={token} className="w-12 h-12 object-contain" />
                  <span className={`font-orbitron text-2xl font-bold ${textColor}`}>{token}</span>
                </div>
              </div>
              <a href={`https://dexscreener.com/${config.dexScreenerSlug}`} target="_blank" rel="noopener noreferrer" className="px-4 py-2 rounded-lg bg-white/10 text-white hover:bg-white/20 transition-all">DexScreener ‚Üó</a>
            </div>
          </header>
          
          <div className={`border-b ${borderColor}/20`}>
            <div className="max-w-7xl mx-auto px-4 py-4">
              <div className="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4">
                <div><div className="text-white/50 text-xs uppercase">Price</div><div className="text-xl font-bold text-white">{typeof fmtPrice(data?.price) === 'object' ? `${fmtPrice(data?.price).base}${fmtPrice(data?.price).rest}` : fmtPrice(data?.price)}</div></div>
                <div><div className="text-white/50 text-xs uppercase">24h Change</div><div className="text-xl font-bold"><ChangeBadge value={data?.priceChange24h} /></div></div>
                <div><div className="text-white/50 text-xs uppercase">Market Cap</div><div className="text-xl font-bold text-white">{fmtUSD(data?.mcap)}</div></div>
                <div><div className="text-white/50 text-xs uppercase">Liquidity</div><div className="text-xl font-bold text-white">{fmtUSD(data?.liquidity)}</div></div>
                <div><div className="text-white/50 text-xs uppercase">24h Volume</div><div className="text-xl font-bold text-white">{fmtUSD(data?.volume24h)}</div></div>
                <div><div className="text-white/50 text-xs uppercase">Holders</div><div className="text-xl font-bold text-white">{fmt(holders)}</div></div>
                <div><div className="text-white/50 text-xs uppercase">Liq/MC</div><div className="text-xl font-bold text-white">{data?.mcap > 0 ? ((data.liquidity / data.mcap) * 100).toFixed(1) + '%' : '‚Äî'}</div></div>
              </div>
            </div>
          </div>
          
          <div className="max-w-7xl mx-auto px-4 py-6 space-y-6">
            <div className={`rounded-2xl border ${borderColor}/30 bg-gradient-to-r from-orange-500/10 via-black to-orange-500/5 p-6`}>
              <h3 className="text-orange-400 font-bold text-lg mb-4">üî• Burn Statistics</h3>
              <div className="grid md:grid-cols-2 gap-6">
                <div>
                  <div className="text-white/50 text-sm mb-1">Total Burned</div>
                  <div className="flex items-center gap-3 flex-wrap">
                    <span className="text-3xl font-bold text-orange-400">{fmt(burnData?.total)}</span>
                    <span className="text-xl font-bold text-green-400">{fmtUSD((burnData?.total || 0) * (data?.price || 0))}</span>
                    <span className="text-white/50">({burnData?.percent?.toFixed(2) || 0}%)</span>
                  </div>
                  <div className="mt-3"><SeaCreatureDisplay creatures={burnCreatures} /></div>
                </div>
                <div>
                  <div className="text-white/50 text-sm mb-1">Total Supply</div>
                  <div className="text-2xl font-bold text-white">{fmt(burnData?.totalSupply)}</div>
                  <div className="text-white/50 text-sm mt-2">Circulating: {fmt((burnData?.totalSupply || 0) - (burnData?.total || 0))}</div>
                </div>
              </div>
            </div>
            
            <div className={`rounded-2xl border ${borderColor}/30 bg-black/50 p-6`}>
              <div className="flex items-center justify-between mb-4 flex-wrap gap-4">
                <h3 className={`font-bold text-lg ${textColor}`}>üíß Liquidity Pairs ({sortedPairs.length})</h3>
                <div className="flex items-center gap-2"><span className="text-white/50 text-sm">Sort:</span><SortButton column="liquidity" label="Liquidity" /><SortButton column="volume" label="Volume" /><SortButton column="ratio" label="Ratio" /><SortButton column="change" label="24h" /></div>
              </div>
              <div className="overflow-x-auto">
                <table className="w-full">
                  <thead><tr className="text-white/50 text-xs uppercase border-b border-white/10"><th className="text-left py-3 px-2">Pair</th><th className="text-right py-3 px-2">Liquidity</th><th className="text-right py-3 px-2">Volume</th><th className="text-right py-3 px-2">Liq/MC</th><th className="text-right py-3 px-2">24h</th><th className="text-right py-3 px-2">Link</th></tr></thead>
                  <tbody>
                    {sortedPairs.length === 0 ? <tr><td colSpan="6" className="text-center py-8 text-white/50">No pairs found</td></tr> : sortedPairs.map((pair, i) => (
                      <tr key={pair.pairAddress || i} className="border-b border-white/5 hover:bg-white/5">
                        <td className="py-3 px-2"><span className="font-bold text-white">{pair.baseToken?.symbol}</span><span className="text-white/30">/</span><span className="text-white/60">{pair.quoteToken?.symbol}</span></td>
                        <td className="text-right py-3 px-2 text-white">{fmtUSD(pair.liquidity?.usd)}</td>
                        <td className="text-right py-3 px-2 text-white">{fmtUSD(pair.volume?.h24)}</td>
                        <td className="text-right py-3 px-2 text-white">{pair.liquidity?.usd && pair.marketCap ? ((pair.liquidity.usd / pair.marketCap) * 100).toFixed(1) + '%' : '‚Äî'}</td>
                        <td className="text-right py-3 px-2"><ChangeBadge value={pair.priceChange?.h24} size="text-sm" /></td>
                        <td className="text-right py-3 px-2"><a href={pair.url} target="_blank" rel="noopener noreferrer" className={`${textColor} hover:underline text-sm`}>Trade ‚Üó</a></td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </div>
            </div>
            
            <div className={`rounded-2xl border ${borderColor}/30 bg-black/50 p-6`}>
              <h3 className={`font-bold text-lg ${textColor} mb-4`}>ü¶ë Holder Tiers</h3>
              <div className="grid grid-cols-3 md:grid-cols-5 lg:grid-cols-9 gap-3">
                {SEA_CREATURES.map((c) => (
                  <div key={c.name} className={`rounded-xl p-4 text-center border ${borderColor}/20 bg-white/5 hover:bg-white/10 transition-all`}>
                    <div className="text-4xl mb-2">{c.emoji}</div>
                    <div className="text-white font-bold text-sm">{c.name}</div>
                    <div className="text-white/40 text-xs mt-1">{c.max === Infinity ? `$${fmt(c.min)}+` : `$${fmt(c.min)}-$${fmt(c.max)}`}</div>
                  </div>
                ))}
              </div>
            </div>
          </div>
          
          <footer className="text-center py-4 px-4 border-t border-white/10 mt-8">
            <p className="text-white/30 text-xs max-w-2xl mx-auto">This dashboard is for informational purposes only. Not financial advice. DYOR.</p>
          </footer>
        </div>
      );
    };
    
    // MAIN APP
    const App = () => {
      const [view, setView] = useState('home');
      const [selectedToken, setSelectedToken] = useState(null);
      
      const handleSelectToken = (token) => {
        console.log('Selected:', token);
        setSelectedToken(token);
        setView('dashboard');
      };
      
      if (view === 'dashboard' && selectedToken) {
        return <Dashboard token={selectedToken} onBack={() => { setView('home'); setSelectedToken(null); }} />;
      }
      return <HomePage onSelectToken={handleSelectToken} />;
    };
    
    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
